{
    "version": "3.9.10",
    "description": "Software project management and comprehension tool",
    "homepage": "https://maven.apache.org/",
    "license": "Apache-2.0",
    "suggest": {
        "JDK": "java/openjdk"
    },
    "url": "https://dlcdn.apache.org/maven/maven-3/3.9.10/binaries/apache-maven-3.9.10-bin.zip",
    "hash": "sha512:2e24dbea0407489d45b4d8214afff96fb57b54a5ef2bb6878f65fbce9b4141685b878ec5c53e9d07d4b1bf166bb5c4f80d540a13013b133a250ec9d85effa37c",
    "extract_dir": "apache-maven-3.9.10",
    "env_set": {
        "MAVEN_HOME": "$dir"
    },
    "env_add_path": "bin",
    "post_install": [
        "$settingsFile = \"$persist_dir\\conf\\settings.xml\"",
        "$backupFile = \"$persist_dir\\conf\\settings.xml.bak\"",
        "$localRepoPath = \"persist_dir\\repository\"",
        "$newLine = \"  <localRepository>$localRepoPath</localRepository>\"",
        "$content = @\"\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<settings xmlns=\"http://maven.apache.org/SETTINGS/1.0.0\"\n          xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n          xsi:schemaLocation=\"http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd\">\n  <localRepository>$localRepoPath</localRepository>\n</settings>\n\"@",
        "Copy-Item -Path $settingsFile -Destination $backupFile",
        "Set-Content -Path $settingsFile -Value $content -Encoding UTF8",
        "Write-Host \"Maven repository settings to $localRepoPath\""
    ],
    "persist": [
        "conf",
        "lib\\ext",
        "repository"
    ],
    "checkver": {
        "url": "https://maven.apache.org/docs/history.html",
        "regex": "<b>([\\d.]+)</b>"
    },
    "autoupdate": {
        "url": "https://dlcdn.apache.org/maven/maven-$majorVersion/$version/binaries/apache-maven-$version-bin.zip",
        "hash": {
            "url": "$url.sha512"
        },
        "extract_dir": "apache-maven-$version"
    }
}
